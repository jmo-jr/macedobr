<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Associação Macedo Brasil</title>
    <meta name="description" content="Apoio a gestão pública e organizações sociais">
    <meta property="og:title" content="Associação Macedo Brasil">
    <meta property="og:site_name" content="Associação Macedo Brasil">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Apoio a gestão pública e organizações sociais">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image" content="assets/logo_ambr_cor.png">
    <link rel="icon" type="image/svg" href="assets/losango.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="animations.css">
    <link rel="stylesheet" href="style.css">
</head>
<body id="body" class="fale">
    <div class="wrapper">

      <div class="body-glyphs glyph-dots top-dots"></div>
      <div class="body-glyphs glyph-dots bottom-dots"></div>
      <div class="body-glyphs glyph-plus"></div>
      <div class="body-glyphs glyph-tl-corner"></div>
      <div class="body-glyphs glyph-tr-corner"></div>
      <div class="body-glyphs glyph-bl-corner"></div>
      <div class="body-glyphs triangles"></div>
      
      <header class="default-header">
          <nav class="navbar navbar-expand-sm navbar-light bg-mbr">
              <div class="container">

									<!-- LOGO -->
                  <a class="nav-link navbar-brand" href="index.html#home">
                    <img src="assets/logo_ambr_br.png" alt="Associação Macedo Brasil">
                  </a>

									<div class="clickables">
										<!-- MENU -->
										<div class="collapse navbar-collapse justify-content-center" id="mainNav">
											<div class="navbar-nav">
												<a id="home-link" class="nav-js nav-link" aria-current="page" href="index.html#home" data-panel="home">Home</a>
												<a id="quem-link" class="nav-js nav-link" aria-current="page" href="index.html#quem" data-panel="quem">Quem somos</a>
												<a id="parcerias-link" class="nav-js nav-link" aria-current="page" href="index.html#parcerias" data-panel="parcerias">Parcerias</a>
												<a id="atuacao-link" class="nav-js nav-link" aria-current="page" href="index.html#atuacao" data-panel="atuacao">Atuação</a>
												<div class="dropdown">
													<a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" href="#" role="button">Transparência</a>
													<ul class="dropdown-menu">
														<li><a class="dropdown-item" href="transparencia.html">Documentação</a></li>
														<li class="dropend">
															<button class="dropdown-item dropdown-toggle" data-bs-toggle="dropend" type="button">Contratos</button>
															<ul class="dropdown-menu dropdown-submenu">
																<li><a class="dropdown-item" href="contratos/coruripe/index.html">Coruripe/AL</a></li>
															</ul>
														</li>
													</ul>
												</div>
												<a id="fale-link" class="nav-js nav-link active" aria-current="page" data-panel="fale">Fale Conosco</a>
											</div>
										</div>

										<!-- BURGER -->
										<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"
												aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
												<span class="navbar-toggler-icon"></span>
										</button>

										<!-- SOCIAL -->
										<div class="top-social">
											<a href="https://www.instagram.com/associacao.macedobrasil" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a>
											<a href="https://www.facebook.com/profile.php?id=61555134284868" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
											<!-- <a href="https://wa.me/55759" target="_blank"><i class="fa fa-whatsapp" aria-hidden="true"></i></a> -->
									</div>
								</div>

              </div>
          </nav>

          <a id="home-link" class="back-btn nav-link nav-js" href="#home" data-panel="home">HOME</a>
      </header>

      <section id="fale" class="panel visible">

        <div class="img-container"></div>

        <div class="d-flex justify-content-end align-items-center h-100">
          <div class="form-container">

            <h2>Fale conosco</h2>

            <form action="" method="post">
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-4">
                    <label for="nome" class="form-label">Nome:</label>
                    <input type="text" class="form-control" name="nome" id="nome">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-4">
                    <label for="email" class="form-label">E-mail:</label>
                    <input type="email" class="form-control" name="email" id="email">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <div class="mb-4">
                    <label for="mensagem" class="form-label">Mensagem:</label>
                    <textarea class="form-control" name="mensagem" id="mensagem" rows="4"></textarea>
                  </div>
                </div>
              </div>
              <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-light">Enviar</button>
              </div>
            </form>

            <div class="contacts">
              <div class="d-flex">
                <div class="contact">contato@macedobrasil.org.br <br> contato.al@macedobrasil.org.br</div>
              </div>
            </div>
          </div>
        </div>

      </section>

    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script id="BootstrapBundle" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script>
			// Lazy Load Video
			var img = document.getElementById("placeholder_image");
			var lazyContainer = document.getElementById("lazy_container");

			const options = {
				root: null,
				rootMargin: "0px",
				threshold: 0.5 // Trigger when img is 50% visible
			};

			var observer = new IntersectionObserver(function (entries) {
				entries.forEach(function (entry) {
					if (entry.isIntersecting) {
						// remove the img
						lazyContainer.removeChild(img);
						// create a video instead
						const videoElement = document.createElement("video");
						//videoElement.src = "assets/home.mp4";
						videoElement.alt = "Lazy-loaded Video";
						videoElement.poster = "assets/home_vph.png";
						videoElement.autoplay = true;
						videoElement.loop = true;
						videoElement.controls = false;
						const videoSource = document.createElement("source");
						videoSource.src = "assets/home.mp4";
						videoSource.type = "video/mp4";
						videoElement.appendChild(videoSource);
						// swap it in for the img
						lazyContainer.appendChild(videoElement);
						// load video
						videoElement.load();
						// disconnect observer
						observer.unobserve(img);
					}
				});
			}, options);

			observer.observe(img);

			// JS Navigation
      document.addEventListener('DOMContentLoaded', function() {
        
        var navLinks = document.querySelectorAll('.nav-js');
        
        navLinks.forEach(function(navLink) {
          // Ao clicar no link, torna painel visivel
          navLink.addEventListener('click', function() {
            
            var panelId = navLink.getAttribute('data-panel');
            var allPanels = document.querySelectorAll('.panel');

            //Remove class .active from all .nav-link elements
            navLinks.forEach(eachLink => {
              eachLink.classList.remove('active');
            })
            // Add class active on clicked link
            navLink.classList.add('active');

            // Atribui classe equiv. ao painel visivel
            var docBody = document.getElementById('body');
            docBody.className = '';
            docBody.classList.add(panelId);

            // Remove classe visible de tudo
            allPanels.forEach(function(panel) {
              panel.classList.remove('visible');
            });
            
            var targetElement = document.getElementById(panelId);
            
            // Add classe visible somente no painel certo
            if (targetElement) {
              targetElement.classList.add('visible');
            }

						//
						var video = targetElement.querySelector('video');
						if (video && !video.src) {
							video.src = video.getAttribute('data-src');
						}
          });
        });

        // Muda videos das abas de Quem Somos
        const quemTabLinks = document.querySelectorAll('#quemTabs .nav-link');

        quemTabLinks.forEach(qtabLink => {
          qtabLink.addEventListener('click', function() {
            let qVideoSrc = qtabLink.getAttribute('data-video');
            let quemPlayer = document.getElementById('vidQuem');
            
            quemPlayer.src = qVideoSrc;
            quemPlayer.style.animation = "fadeIn 2s ease";
          })
        })
      
        // Muda videos das abas de Atuação
        const atuaTabLinks = document.querySelectorAll('#atuacaoTabs .nav-link');

        atuaTabLinks.forEach(atabLink => {
          atabLink.addEventListener('click', function() {
            let aVideoSrc = atabLink.getAttribute('data-video');
            let atuaPlayer = document.getElementById('vidAtua');
            
            atuaPlayer.src = aVideoSrc;
            atuaPlayer.style.animation = "fadeIn 2s ease";
          })
        })

        // Mostra ou oculta o menu principal - NOT WORKING
        const backBtn = $('#home-link')
        const mainNav = $('.default-header')

        backBtn
          .on('mouseover', function() {
            console.log('hover')
            $(this).addClass('hide');
            mainNav.addClass('show');
          })
          .on('mouseout', function() {
            console.log('hover out')
            $(this).removeClass('hide');
            mainNav.removeClass('show');
          })

      });
    </script>
</body>
</html>